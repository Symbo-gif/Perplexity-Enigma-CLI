# Perplexity - Enigma Configuration
# Copy this file to .pplxrc and customize as needed

# ============================================================================
# API Configuration
# ============================================================================
api:
  key: ${PPLX_API_KEY}                    # Set via environment variable or here
  base_url: "https://api.perplexity.ai"
  timeout: 60000                           # Request timeout in milliseconds

# ============================================================================
# Model Selection
# ============================================================================
# Available models:
#   - sonar           : Fast, lightweight (low cost)
#   - sonar-pro       : Balanced reasoning + search (medium cost)
#   - sonar-reasoning : Chain-of-thought reasoning (medium cost)
#   - sonar-reasoning-pro : Advanced reasoning (higher cost)
#   - sonar-deep-research : Comprehensive research (higher cost, 30-60s)

models:
  default: "sonar-pro"                     # Default model for general queries
  search_heavy: "sonar-pro"                # Model for search-intensive queries
  reasoning: "sonar-reasoning-pro"         # Model for complex reasoning
  fast: "sonar"                            # Model for quick responses
  deep_research: "sonar-deep-research"     # Model for deep research tasks

# ============================================================================
# Agent Behavior
# ============================================================================
agent:
  max_iterations: 10                       # Max tool-use loops per query
  temperature: 0.3                         # 0.0-2.0, lower = more deterministic
  max_tokens: 4096                         # Max tokens in response
  top_p: 0.9                               # Nucleus sampling parameter

# ============================================================================
# Workspace Settings
# ============================================================================
workspace:
  root: "./"                               # Workspace root directory
  gitignore_enabled: true                  # Respect .gitignore patterns
  max_file_size_mb: 10                     # Skip files larger than this
  exclude_patterns:                        # Additional patterns to exclude
    - "node_modules/**"
    - ".git/**"
    - "dist/**"
    - "build/**"
    - "*.pyc"
    - "__pycache__/**"
    - ".env"
    - ".env.*"
    - "*.log"
    - "coverage/**"
    - ".nyc_output/**"
    - ".cache/**"

# ============================================================================
# Search & Research
# ============================================================================
research:
  search_mode: "medium"                    # low | medium | high
  include_citations: true                  # Include source citations
  focus_on_recent: true                    # Prefer recent sources
  date_filter: null                        # Filter by date (e.g., "2025-01-01")

# ============================================================================
# Output Formatting
# ============================================================================
output:
  format: "markdown"                       # markdown | json | plain
  stream: true                             # Stream responses in real-time
  verbose: false                           # Show debug information

# ============================================================================
# Enabled Tools
# ============================================================================
tools:
  enabled:
    - file_read                            # Read file contents
    - file_write                           # Write/create files
    - file_search                          # Search for files by name
    - web_search                           # Web search via Perplexity
    - list_directory                       # List directory contents
    - file_diff                            # Generate file diffs
    - git_operations                       # Git commands (status, diff, log)
    # - code_execution                     # Execute code (disabled by default)

# ============================================================================
# Context Management
# ============================================================================
context:
  max_files_in_context: 5                  # Max files to include in context
  max_tokens_for_context: 8000             # Token budget for context
  include_file_tree: true                  # Include workspace file tree
  include_git_status: true                 # Include git status information
